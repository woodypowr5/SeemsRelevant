!function(){var e=function(e,t,a,i,o,r,s,n){e.activeView="home",e.activeSubview="",e.sortPostsBy="date",e.defaultSortPostsBy=e.sortPostsBy,e.reverseSort=!1,e.readerActive=!1,e.sortParameter="lowhi",e.filepath="data/posts.json",e.imagesFilepath="data/images/image-catalogue.json",e.posts={},e.images={},e.overlayActive={},e.imageViewer={active:!1,image:-1},e.refresh=function(e){},e.broadcastNavClick=function(t){e.activeView=t,e.activeSubview="",e.sortPostsBy=e.defaultSortPostsBy,"about"===t?e.readerActive=!0:"portfolio"===t?(e.activeView="portfolio",e.readerActive=!0,e.readerTemplate="data/posts/portfolio.html"):"photography"===t?(e.activeView="photography",e.readerActive=!1):e.readerActive=!1},e.initPosts=function(t){var i=a.getAllPosts(t);i.then(function(t){""===t?(e.posts="",e.message="No posts found"):(e.posts=t,e.message="data retrieved")},function(t){e.message("Error retrieving data.")})},e.initImages=function(t){var a=s.getAllImages(e.imagesFilepath);a.then(function(t){""===t?(e.images="",e.message="No posts found"):(e.images=t,e.message="data retrieved")},function(t){e.message("Error retrieving data.")})},e.setActiveSubview=function(t){t.arg?"portfolio"===e.activeSubview?""===e.activeSubview:e.activeSubview=t.arg:e.activeSubview=t},e.alert=function(e){},e.setSortPostsBy=function(t){e.sortPostsBy==t.arg.toLowerCase()?e.reverseSort=!e.reverseSort:e.sortPostsBy=t.arg.toLowerCase()},e.activateReader=function(t){e.readerActive=!0,e.readerTemplate=e.posts[t.arg]?"data/"+e.posts[t.arg].template:"data/posts/"+t+".html"},e.activateReaderWithUrl=function(t){e.readerActive=!0,e.readerTemplate=t},e.closeReader=function(){e.readerActive=!1},e.showMore=function(){alert("This button is not working yet. WOHOOO!!")},e.orderByCategoryName=function(e,t){return i("sortBySubview")(e,t)},e.testFunction=function(t){a.callMe(t),e.testVar=t},e.showOverlay=function(t){e.overlayActive[t]=!0},e.hideOverlay=function(t){e.overlayActive[t]=!1},e.activateImageViewer=function(t){e.imageViewer.active=!0,e.imageViewer.image=t},e.inactivateImageViewer=function(){e.imageViewer.active=!1,e.imageViewer.image=-1},e.jump=function(e){},e.checkForPortfolioActive=function(){"portfolio"===e.activeView&&(e.activeSubview="")},e.getImageData=function(t){var a={};return images=e.images,images.forEach(function(e){return e.imageid===t?e:void 0}),""},e.initPosts(e.filepath),e.initImages(e.imagesFilepath),e.broadcastNavClick("home"),e.$on("$routeChangeSuccess",function(){n.postid&&e.activateReader(n.postid)})};e.$inject=["$scope","$http","PostsFactory","$filter","$location","$anchorScroll","ImagesFactory","$routeParams"],angular.module("mainApp").controller("MainCtrl",e)}();